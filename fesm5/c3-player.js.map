{"version":3,"file":"c3-player.js.map","sources":["ng://c3-player/src/app/services/math.service.ts","ng://c3-player/src/app/models/event-type.enum.ts","ng://c3-player/src/app/services/kurento.service.ts","ng://c3-player/src/app/services/event.service.ts","ng://c3-player/src/app/modules/c3player/c3player.component.ts","ng://c3-player/src/app/modules/c3player/c3player.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MathService {\n\n  constructor() {}\n\n  pad(i: number): String{\n    return (i < 10) ? \"0\"+i : \"\"+i; \n  }\n\n  padm(i: number): String{\n    return (i < 10) ? \"0\"+i.toFixed(1) : \"\"+i.toFixed(1);\n  }\n}\n","export enum EventType {\n    RemotePlayStarted,\n    RemotePlayStopped,\n    RemotePlayPaused,\n    RemotePlayResumed,\n    RemotePlayEnded,\n    RemotePlaySeeked,\n    RemotePlayFailed,\n    RemoteConnectionReset,\n    RemoteSeekFailed,\n    LocalConnectionError,\n    LocalAudioLevel,\n    LocalAudioLevelError,\n    WebSocketFailed\n}\n","import { WebRtcPeer } from 'kurento-utils-browser';\nimport { ElementRef } from '@angular/core';\nimport { EventService } from './event.service';\nimport { C3event } from '../models/c3event';\nimport { EventType } from '../models/event-type.enum';\n\nexport class KurentoService {\n\n  private webRtcPeer: WebRtcPeer;\n\n  /**\n   * Creates a new Kurento Service\n   * @param ws WEb Socket Connection\n   * @param audioSource Audio URL\n   */\n  constructor(private ws: WebSocket, private audioSource: string, private video: ElementRef, private eventService: EventService) {\n    \n  }\n\n  /**\n   * Starts playing the streamed audio\n   */\n  start(millis: number): void{\n    console.log(\"RTC service: Playing audio at initial position: \"+millis);\n    let userMediaConstraints = {\n      audio: true,\n      video: false\n    }\n    let options = {\n      remoteVideo: this.video.nativeElement,\n      mediaConstraints: userMediaConstraints,\n      onicecandidate: (candidate: any) => {\n        console.log('RTC service: Local candidate ' + JSON.stringify(candidate));\n        let message = {\n          id: 'onIceCandidate',\n          candidate: candidate\n        }\n        try{\n          this.sendMessage(message);\n        }catch(error){\n          let event : C3event = {type: EventType.WebSocketFailed, value: {reason:error}};\n          this.eventService.Emitter.next(event);\n        }\n      }\n    }\n    this.webRtcPeer = WebRtcPeer.WebRtcPeerRecvonly(options, (error: String) => {\n      if(error){\n        console.error(\"Error creating the peer connection: %s\", error);\n        let event : C3event = {type: EventType.RemotePlayFailed, value: {at:\"start\", reason:error}};\n        this.eventService.Emitter.next(event);\n      }else{\n        this.webRtcPeer.generateOffer((error: String, sdp: String) => {\n          if(error){\n            console.error(\"Error generating the offer: %s\", error);\n            let event : C3event = {type: EventType.RemotePlayFailed, value: {at:\"start\", reason:error}};\n            this.eventService.Emitter.next(event);\n          }else{\n            let message = {\n              id: 'start',\n              sdpOffer: sdp,\n              position: millis,\n              videourl: this.audioSource\n            }\n            console.log(\"Sending start message\");\n            try{\n              this.sendMessage(message);\n            }catch(error){\n              let event : C3event = {type: EventType.WebSocketFailed, value: {reason:error}};\n              this.eventService.Emitter.next(event);\n            }\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Stops the streaming\n   */\n  stop(): void{\n    console.log(\"RTC service: Stopping audio\");\n    if (this.webRtcPeer) {\n      try{\n        this.webRtcPeer.dispose();\n        this.webRtcPeer = null;\n        var message = {\n            id: 'stop'\n        }\n        this.sendMessage(message);\n        let event : C3event = {type: EventType.RemotePlayStopped, value: {}};\n        this.eventService.Emitter.next(event);\n      }catch(error){\n        console.error(\"Error stopping the player: %s\", error);\n        let event : C3event = {type: EventType.RemotePlayFailed, value: {at:\"stop\", reason:error}};\n        this.eventService.Emitter.next(event);\n      }\n    }else{\n      console.error(\"Error stopping the player: peer connection is closed\");\n      let event : C3event = {type: EventType.RemotePlayFailed, value: {at:\"stop\", reason:\"Peer connection is closed\"}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  /**\n   * Resets the Peer connection\n   */\n  resetConnection(): void{\n    console.log(\"RTC service: resetting peer connection\");\n    if(this.webRtcPeer){\n      try{\n        this.webRtcPeer.dispose();\n        this.webRtcPeer = null;\n        let event : C3event = {type: EventType.RemoteConnectionReset, value: {}};\n        this.eventService.Emitter.next(event);\n      }catch(error){\n        console.error(\"Error resetting the peer connection: %s\", error);\n        let event : C3event = {type: EventType.LocalConnectionError, value: {at: \"resetConnection\", reason:error}};\n        this.eventService.Emitter.next(event);\n      }\n    }\n  }\n\n  /**\n   * Moves to the specified millisecond\n   * @param time: played time in milliseconds\n   */\n  doSeekAt(time: number): void{\n    console.log(\"RTC service: doing seek at %s\", time.toString());\n    try{\n      var message = {\n        id: 'doSeek',\n        position: time\n      }\n      this.sendMessage(message);\n      let event : C3event = {type: EventType.RemotePlaySeeked, value: {seekTime: time}};\n      this.eventService.Emitter.next(event);\n    }catch(error){\n      console.error(\"Error doing seek: %s\", error);\n      let event : C3event = {type: EventType.RemoteSeekFailed, value: {at: \"doSeek\", reason:error}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  /**\n   * Pauses the streaming\n   */\n  pause(): void{\n    console.log(\"RTC service: Pausing audio\");\n    try{\n      var message = {\n        id: 'pause'\n      }\n      this.sendMessage(message);\n      let event : C3event = {type: EventType.RemotePlayPaused, value: {}};\n      this.eventService.Emitter.next(event);\n    }catch(error){\n      console.error(\"Error pausing the streaming: %s\", error);\n      let event : C3event = {type: EventType.RemotePlayFailed, value: {at: \"pause\", reason:error}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  /**\n   * Resumes the streaming\n   */\n  resume(): void{\n    console.log(\"RTC service: Resuming audio\");\n    try{\n      var message = {\n        id: 'resume'\n      }\n      this.sendMessage(message);\n      let event : C3event = {type: EventType.RemotePlayResumed, value: {}};\n      this.eventService.Emitter.next(event);\n    }catch(error){\n      console.error(\"Error resuming the streaming: %s\", error);\n      let event : C3event = {type: EventType.WebSocketFailed, value: {reason:error}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  mute(): void{\n    if(this.webRtcPeer){\n      try{\n        this.webRtcPeer.getRemoteStream().getAudioTracks().forEach(track => {\n          track.enabled = false;\n        });\n        let event : C3event = {type: EventType.LocalAudioLevel, value: {action:\"mute\"}};\n        this.eventService.Emitter.next(event);\n      }catch(error){\n        console.error(\"Error muting audio: %s\", error);\n        let event : C3event = {type: EventType.LocalAudioLevelError, value: {at: \"mute\", reason:error}};\n        this.eventService.Emitter.next(event);\n      }\n    }else{\n      let event : C3event = {type: EventType.LocalAudioLevel, value: {action:\"mute\"}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  unmute(): void{\n    if(this.webRtcPeer){\n      try{\n        this.webRtcPeer.getRemoteStream().getAudioTracks().forEach(track => {\n          track.enabled = true;\n        });\n        let event : C3event = {type: EventType.LocalAudioLevel, value: {action:\"unmute\"}};\n        this.eventService.Emitter.next(event);\n      }catch(error){\n        console.error(\"Error unmuting audio: %s\", error);\n        let event : C3event = {type: EventType.LocalAudioLevelError, value: {at: \"unmute\", reason:error}};\n        this.eventService.Emitter.next(event);\n      }\n    }else{\n      let event : C3event = {type: EventType.LocalAudioLevel, value: {action:\"unmute\"}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  /**\n   * Processes the SDP answer\n   * @param sdpAnswer SDP answer as string\n   * @param callback callback\n   */\n  processAnswer(sdpAnswer: string, callback: (error: string) => void) :void{\n    console.log(\"RTC service: Processing SDP answer: %s\", sdpAnswer);\n    this.webRtcPeer.processAnswer(sdpAnswer, callback);\n  }\n\n  /**\n   * Adds ICE candidate\n   * @param candidate candidate\n   * @param callback callback\n   */\n  addIceCandidate(candidate: RTCIceCandidate, callback: (error: string) => void): void{\n    console.log(\"RTC service: Adding Ice Candidate: %s\", JSON.stringify(candidate));\n    this.webRtcPeer.addIceCandidate(candidate, callback);\n  }\n\n  sendMessage(message: object): void{\n    if(this.ws.readyState == 1){\n      this.ws.send(JSON.stringify(message));\n    }else{\n      throw new Error(\"Websocket is closed\");\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { C3event } from '../models/c3event';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventService {\n\n  private emitter: BehaviorSubject<C3event>;\n  constructor() {\n    this.emitter = new BehaviorSubject<C3event>(null);\n  }\n\n  get Emitter(): BehaviorSubject<C3event>{\n    return this.emitter;\n  }\n}\n","import { Component, Input, OnInit, OnDestroy, ViewChild, ElementRef, ViewContainerRef, AfterViewInit} from '@angular/core';\n\nimport { BehaviorSubject, timer, Subscription} from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MathService } from '../../services/math.service';\nimport { KurentoService } from '../../services/kurento.service';\nimport { EventService } from '../../services/event.service';\nimport { C3event } from '../../models/c3event';\nimport { EventType } from '../../models/event-type.enum';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { ModalDialogService, SimpleModalComponent } from 'ngx-modal-dialog';\n\n@Component({\n  selector: 'c3-player',\n  templateUrl: './c3player.component.html',\n  styleUrls: ['./c3player.component.css']\n})\nexport class C3playerComponent implements OnInit, OnDestroy{\n\n  private ws: WebSocket;\n\n  //Kurento service\n  private kurentoService: KurentoService;\n\n  //timer for play time\n  private _timer: Subscription;\n  private offset: number; //max difference between remote and local play\n\n  //handle if component is playing\n  playing: BehaviorSubject<boolean>;\n  private wsConnected: BehaviorSubject<boolean>;\n\n  private playedTime: number; //milliseconds\n  private wantedTime: number = 0; //tooltip\n\n  @ViewChild('tooltipDisplay') tooltipDisplay: ElementRef;\n  @ViewChild('c3player') player: ElementRef; \n  @ViewChild('videoelement') video: ElementRef;\n\n  //\n  @Input('image')\n  imageSource: string; \n  @Input('audio')\n  audioSource: string;\n  @Input('wsUrl')\n  wsUrl: string;\n  @Input('duration')\n  totalDuration: number;\n  @Input('width')\n  componentWidth: string = \"100%\";\n  @Input('margin')\n  componentMargin: string = \"auto\"; \n  @Input('img-dim')\n  imgRelation: number = 5;\n\n  muted: BehaviorSubject<boolean>;\n\n  private firstTime: BehaviorSubject<boolean>;\n\n  constructor(private mathService: MathService, private eventService: EventService, private spinner: NgxSpinnerService,\n              private modalService: ModalDialogService, private viewRef: ViewContainerRef){\n    eventService.Emitter.subscribe((event: C3event) => {\n      if(event){\n        switch(event.type){\n          case EventType.LocalConnectionError: {\n            this.spinner.hide();\n            this.playing.next(false);\n            this.displayErrorMessage(\"Error in connection\");\n            break; \n          }\n          case EventType.RemotePlayStarted: {\n            this.firstTime.next(false);\n            this.playing.next(true);\n            this.kurentoService.doSeekAt(this.playedTime);\n            break;\n          }\n          case EventType.RemotePlayPaused: {\n            this.playing.next(false);\n            break;\n          }\n          case EventType.RemotePlayStopped: {\n            this.playedTime = 0;\n            this.firstTime.next(true);\n            this.playing.next(false);\n            break;\n          }\n          case EventType.RemotePlayEnded: {\n            this.playing.next(false);\n            this.playedTime = 0;\n            break;\n          }\n          case EventType.RemotePlaySeeked: {\n            this.spinner.hide();\n            this.playedTime = event.value.seekTime;\n            break;\n          }\n          case EventType.RemoteSeekFailed: {\n            this.spinner.hide();\n            this.playing.next(false);\n            this.displayErrorMessage(\"Server error\");\n            break; \n          }\n          case EventType.RemotePlayResumed: {\n            this.spinner.hide();\n            this.playing.next(true);\n            break;\n          }\n          case EventType.WebSocketFailed: {\n            this.spinner.hide();\n            this.displayErrorMessage(\"Connection to the server failed\");\n            break;\n          }\n          case EventType.LocalAudioLevel: {\n            if(event.value && event.value.action){\n              switch(event.value.action){\n                case \"mute\":{\n                  this.muted.next(true);\n                  break;\n                }\n                case \"unmute\":{\n                  this.muted.next(false);\n                  break;\n                }\n                default:{\n                  console.error(\"Received unknown Local Audio Level event: %s\", event.value.action);\n                }\n              }\n            }else{\n              console.error(\"Received incorrect Local Audio Level event: %s\", JSON.stringify(event));\n            }\n            break;\n          }\n          case EventType.LocalAudioLevelError:{\n            this.displayErrorMessage(\"Error at audio control\");\n            break;\n          }\n          case EventType.RemotePlayFailed: {\n            this.spinner.hide();\n            this.playing.next(false);\n            break;\n          }\n          case EventType.RemoteConnectionReset: {\n            this.spinner.hide();\n            this.firstTime.next(true);\n            this.playing.next(false);\n            this.playedTime = 0;\n          }\n          default: {\n            console.error(\"Unrecognized event type '%s'\", event.type);\n          }\n        }\n      } \n    });\n  }\n\n  ngOnInit() {\n    //Initializing global variables\n    this.firstTime = new BehaviorSubject<boolean>(true);\n    this.wsConnected = new BehaviorSubject<boolean>(false);\n    this.muted = new BehaviorSubject<boolean>(false);\n    this.playedTime = 0;\n    this.offset = Math.round(this.totalDuration / 100);\n    if(this.offset < 1000){\n      this.offset = 1000;\n    }\n    if(this.offset > 4000){\n      this.offset = 4000;\n    }\n    this.playing = new BehaviorSubject<boolean>(false);\n    this.tooltipDisplay.nativeElement.style.display = \"none\";\n    this.spinner.hide();\n\n    //Play timer\n    this._timer = timer(0,100).pipe(filter(() => this.playing.value === true)).subscribe(t => {\n      this.playedTime += 100;\n      if(this.playedTime >= (this.totalDuration + this.offset)){\n        this.stop();\n      }\n    });\n    \n    //Connection\n    this.ws = new WebSocket(this.wsUrl);\n    this.kurentoService = new KurentoService(this.ws, this.audioSource, this.video, this.eventService);\n\n    //WebSocket event handling\n    const context = this;\n    this.ws.onopen = (e: Event) => {\n      console.log(\"C3player service: Connection established with Kurento\");\n      context.wsConnected.next(true);\n    }\n    this.ws.onclose = (e: CloseEvent) => {\n      this.spinner.hide();\n      console.log(\"C3Player service: Connection closed\");\n      context.wsConnected.next(false);\n      context.stop();\n    }\n    this.ws.onerror = (e: Event) => {\n      this.spinner.hide();\n      console.error(\"An error has occured: %s\", e);\n      this.displayErrorMessage(\"Connection with server failed\");\n      context.stop();\n    }\n    this.ws.onmessage = (e: MessageEvent) => {\n      console.log(\"Message received: \"+e.data);\n      let message = JSON.parse(e.data);\n      switch(message.id){\n        case \"playStarted\":{\n          let event : C3event = {type: EventType.RemotePlayStarted, value: {}};\n          this.eventService.Emitter.next(event);\n          break;\n        }\n        case \"startResponse\": {\n          console.log(\"Received start response\");\n          context.kurentoService.processAnswer(message.sdpAnswer, (error: string) => {\n            if(error){\n              console.error(\"Error processing response: %s\", error);\n            }else{\n              console.log(\"C3Player service: SDP response processed\");\n            }\n          });\n          break;\n        }\n        case \"error\": {\n          console.error(\"Error in websocket: %s\", message.message);\n          break;\n        }\n        case \"playEnd\": {\n          console.log(\"C3Player service: Play ended\");\n          context.firstTime.next(true);\n          context.playing.next(false);\n          context.playedTime = 0;\n          break;\n        }\n        case \"videoInfo\": {\n          context.totalDuration = message.videoDuration;\n          break;\n        }\n        case \"iceCandidate\": {\n          context.kurentoService.addIceCandidate(message.candidate, (error: string) =>{\n            if(error){\n              console.error(\"Error adding candidate: %s\", error);\n            }else{\n              console.log(\"Added candidate %s\", JSON.stringify(message.candidate));\n            }\n          });\n          break;\n        }\n        case \"seek\": {\n          console.log(\"C3Player service: Seek Done -> %s\", message.message);\n          if(message.message !== \"ok\"){\n            this.displayErrorMessage(\"An error has occured\");\n          }\n          break;\n        }\n        case \"position\": {\n          context.playedTime = message.position;\n          break;\n        }\n        default: {\n          console.log(\"C3Player service: Unrecognized message received -> %s\", message.id);\n        }\n      }\n    }\n  }\n\n  ngOnDestroy(){\n    this._timer.unsubscribe();\n    this.kurentoService.resetConnection();\n    this.ws.close();\n  }\n\n  getPlayedHours(): String{\n    return this.mathService.pad(Math.floor(this.playedTime / 3600000));\n  }\n\n  getPlayedMinutes(): String{\n    return this.mathService.pad(Math.floor(((this.playedTime / 1000) % 3600) / 60));\n  }\n\n  getPlayedSeconds(): String{\n    return this.mathService.padm((this.playedTime/1000) % 60);\n  }\n\n  getTotalHours(): String{\n    return this.mathService.pad(Math.floor(this.totalDuration / 3600000));\n  }\n\n  getTotalMinutes(): String{\n    return this.mathService.pad(Math.floor(((this.totalDuration / 1000) % 3600) / 60));\n  }\n\n  getTotalSeconds(): String{\n    return this.mathService.pad(Math.round(this.totalDuration/1000) % 60);\n  }\n\n  getWantedHours(): String{\n    return this.mathService.pad(Math.floor(this.wantedTime / 3600000));\n  }\n\n  getWantedMinutes(): String{\n    return this.mathService.pad(Math.floor(((this.wantedTime / 1000) % 3600) / 60));\n  }\n\n  getWantedSeconds(): String{\n    return this.mathService.pad(Math.floor((this.wantedTime/1000) % 60));\n  }\n\n  getSeekPosition(){\n    return Math.floor((this.playedTime/this.totalDuration)*this.player.nativeElement.offsetWidth);\n  }\n\n  /**\n   * TODO implementar metodos\n   */\n  play(): void{\n    if(this.playing.value === true){\n       //Pause the video\n      this.kurentoService.pause();\n    }else{\n      if(this.firstTime.value === true){\n        //Play\n        this.spinner.show();\n        this.kurentoService.unmute();\n        this.kurentoService.start(this.playedTime);\n      }else{\n        //Resume\n        this.spinner.show();\n        this.kurentoService.resume();\n      }\n    }\n  }\n\n  stop(): void{\n    if(this.wsConnected.value === true){\n      this.kurentoService.unmute();\n      this.kurentoService.stop();\n    }else{\n      this.playedTime = 0;\n      this.firstTime.next(true);\n      this.playing.next(false);\n    }\n  }\n\n  seekClicked(event): void{\n    \n  }\n\n  seekReleased(event: MouseEvent): void{\n    //set playedTime and seekPosition\n    this.spinner.show();\n    let clicked: number = Math.floor(this.totalDuration*(event.offsetX/this.player.nativeElement.offsetWidth));\n    this.kurentoService.doSeekAt(clicked);\n  }\n\n  seekDragged(): void{\n    console.log(\"Seek dragged\");\n  }\n\n  onDragStart(event){\n    console.log(\"Drag start\");\n  }\n\n  onDragEnd(event){\n    console.log(\"Drag end\");\n  }\n\n  onMouseOverSeek(event: MouseEvent){\n    this.tooltipDisplay.nativeElement.style.display = \"inline-block\";\n    this.tooltipDisplay.nativeElement.style.transform = \"translate(\"+event.offsetX+\"px,\"+(15+event.offsetY)+\"px)\";\n  }\n\n  onMouseExitSeek(event: MouseEvent){\n    this.tooltipDisplay.nativeElement.style.display = \"none\";\n  }\n\n  onMouseMoveSeek(event: MouseEvent){\n    this.wantedTime = Math.floor(this.totalDuration*(event.offsetX/this.player.nativeElement.offsetWidth));\n    if(this.player.nativeElement.offsetWidth - event.offsetX <= 55){\n      this.tooltipDisplay.nativeElement.style.transform = \"translate(\"+(event.offsetX - 55)+\"px,\"+(15+event.offsetY)+\"px)\";\n    }else{\n      this.tooltipDisplay.nativeElement.style.transform = \"translate(\"+event.offsetX+\"px,\"+(15+event.offsetY)+\"px)\";\n    }\n  }\n\n  displayErrorMessage(error: string) : void{\n    this.modalService.openDialog(this.viewRef, {\n      title: 'Error',\n      childComponent: SimpleModalComponent,\n      data: {\n        text: \"Error occured while playing the audio: <strong>\"+error+\"</strong>\"\n      },\n      settings: {\n        closeButtonClass: 'close theme-icon-close',\n        headerTitleClass: \"text-danger\"\n      },\n      actionButtons: [\n        {\n          text: 'Close',\n          buttonClass: \"btn btn-default\",\n          onAction: () => new Promise((resolve:any) => {\n            resolve()\n          })\n        }\n      ]\n    });\n  }\n\n  switchSound(): void{\n    if(this.muted.value === true){\n      this.kurentoService.unmute();\n    }else{\n      this.kurentoService.mute();\n    }\n  }\n\n  getOptimHeight(): string{\n    return Math.round(this.player.nativeElement.offsetWidth / this.imgRelation) +\"px\";\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { C3playerComponent } from './c3player.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { ModalDialogModule } from 'ngx-modal-dialog';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserAnimationsModule,\n    MatSliderModule,\n    NgxSpinnerModule,\n    ModalDialogModule.forRoot()\n  ],\n  declarations: [C3playerComponent],\n  exports: [\n    C3playerComponent,\n    MatSliderModule,\n    NgxSpinnerModule,\n    ModalDialogModule,\n    BrowserAnimationsModule\n  ]\n})\nexport class C3playerModule { }\n"],"names":[],"mappings":"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"}
