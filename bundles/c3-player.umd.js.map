{"version":3,"file":"c3-player.umd.js.map","sources":["ng://c3-player/src/app/services/math.service.ts","ng://c3-player/src/app/models/event-type.enum.ts","ng://c3-player/src/app/services/kurento.service.ts","ng://c3-player/src/app/services/event.service.ts","ng://c3-player/src/app/modules/c3player/c3player.component.ts","ng://c3-player/src/app/modules/c3player/c3player.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MathService {\n\n  constructor() {}\n\n  pad(i: number): String{\n    return (i < 10) ? \"0\"+i : \"\"+i; \n  }\n\n  padm(i: number): String{\n    return (i < 10) ? \"0\"+i.toFixed(1) : \"\"+i.toFixed(1);\n  }\n}\n","export enum EventType {\n    RemotePlayStarted,\n    RemotePlayStopped,\n    RemotePlayPaused,\n    RemotePlayResumed,\n    RemotePlayEnded,\n    RemotePlaySeeked,\n    RemotePlayFailed,\n    RemoteConnectionReset,\n    RemoteSeekFailed,\n    LocalConnectionError,\n    LocalAudioLevel,\n    LocalAudioLevelError\n}\n","import { WebRtcPeer } from 'kurento-utils-browser';\nimport { ElementRef } from '@angular/core';\nimport { EventService } from './event.service';\nimport { C3event } from '../models/c3event';\nimport { EventType } from '../models/event-type.enum';\n\nexport class KurentoService {\n\n  private webRtcPeer: WebRtcPeer;\n\n  /**\n   * Creates a new Kurento Service\n   * @param ws WEb Socket Connection\n   * @param audioSource Audio URL\n   */\n  constructor(private ws: WebSocket, private audioSource: string, private video: ElementRef, private eventService: EventService) {\n    \n  }\n\n  /**\n   * Starts playing the streamed audio\n   */\n  start(millis: number): void{\n    console.log(\"RTC service: Playing audio at initial position: \"+millis);\n    let userMediaConstraints = {\n      audio: true,\n      video: false\n    }\n    let options = {\n      remoteVideo: this.video.nativeElement,\n      mediaConstraints: userMediaConstraints,\n      onicecandidate: (candidate: any) => {\n        console.log('RTC service: Local candidate ' + JSON.stringify(candidate));\n        let message = {\n          id: 'onIceCandidate',\n          candidate: candidate\n        }\n        this.ws.send(JSON.stringify(message));\n      }\n    }\n    this.webRtcPeer = WebRtcPeer.WebRtcPeerRecvonly(options, (error: String) => {\n      if(error){\n        console.error(\"Error creating the peer connection: %s\", error);\n        let event : C3event = {type: EventType.RemotePlayFailed, value: {at:\"start\", reason:error}};\n        this.eventService.Emitter.next(event);\n      }else{\n        this.webRtcPeer.generateOffer((error: String, sdp: String) => {\n          if(error){\n            console.error(\"Error generating the offer: %s\", error);\n            let event : C3event = {type: EventType.RemotePlayFailed, value: {at:\"start\", reason:error}};\n            this.eventService.Emitter.next(event);\n          }else{\n            let message = {\n              id: 'start',\n              sdpOffer: sdp,\n              position: millis,\n              videourl: this.audioSource\n            }\n            console.log(\"Sending start message\");\n            this.ws.send(JSON.stringify(message));\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Stops the streaming\n   */\n  stop(): void{\n    console.log(\"RTC service: Stopping audio\");\n    if (this.webRtcPeer) {\n      try{\n        this.webRtcPeer.dispose();\n        this.webRtcPeer = null;\n        var message = {\n            id: 'stop'\n        }\n        this.ws.send(JSON.stringify(message));\n        let event : C3event = {type: EventType.RemotePlayStopped, value: {}};\n        this.eventService.Emitter.next(event);\n      }catch(error){\n        console.error(\"Error stopping the player: %s\", error);\n        let event : C3event = {type: EventType.RemotePlayFailed, value: {at:\"stop\", reason:error}};\n        this.eventService.Emitter.next(event);\n      }\n    }else{\n      console.error(\"Error stopping the player: peer connection is closed\");\n      let event : C3event = {type: EventType.RemotePlayFailed, value: {at:\"stop\", reason:\"Peer connection is closed\"}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  /**\n   * Resets the Peer connection\n   */\n  resetConnection(): void{\n    console.log(\"RTC service: resetting peer connection\");\n    if(this.webRtcPeer){\n      try{\n        this.webRtcPeer.dispose();\n        this.webRtcPeer = null;\n        let event : C3event = {type: EventType.RemoteConnectionReset, value: {}};\n        this.eventService.Emitter.next(event);\n      }catch(error){\n        console.error(\"Error resetting the peer connection: %s\", error);\n        let event : C3event = {type: EventType.LocalConnectionError, value: {at: \"resetConnection\", reason:error}};\n        this.eventService.Emitter.next(event);\n      }\n    }\n  }\n\n  /**\n   * Moves to the specified millisecond\n   * @param time: played time in milliseconds\n   */\n  doSeekAt(time: number): void{\n    console.log(\"RTC service: doing seek at %s\", time.toString());\n    try{\n      var message = {\n        id: 'doSeek',\n        position: time\n      }\n      this.ws.send(JSON.stringify(message));\n      let event : C3event = {type: EventType.RemotePlaySeeked, value: {seekTime: time}};\n      this.eventService.Emitter.next(event);\n    }catch(error){\n      console.error(\"Error doing seek: %s\", error);\n      let event : C3event = {type: EventType.RemoteSeekFailed, value: {at: \"doSeek\", reason:error}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  /**\n   * Pauses the streaming\n   */\n  pause(): void{\n    console.log(\"RTC service: Pausing audio\");\n    try{\n      var message = {\n        id: 'pause'\n      }\n      this.ws.send(JSON.stringify(message));\n      let event : C3event = {type: EventType.RemotePlayPaused, value: {}};\n      this.eventService.Emitter.next(event);\n    }catch(error){\n      console.error(\"Error pausing the streaming: %s\", error);\n      let event : C3event = {type: EventType.RemotePlayFailed, value: {at: \"pause\", reason:error}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  /**\n   * Resumes the streaming\n   */\n  resume(): void{\n    console.log(\"RTC service: Resuming audio\");\n    try{\n      var message = {\n        id: 'resume'\n      }\n      this.ws.send(JSON.stringify(message));\n      let event : C3event = {type: EventType.RemotePlayResumed, value: {}};\n      this.eventService.Emitter.next(event);\n    }catch(error){\n      console.error(\"Error resuming the streaming: %s\", error);\n      let event : C3event = {type: EventType.RemotePlayFailed, value: {at: \"resume\", reason:error}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  mute(): void{\n    try{\n      this.webRtcPeer.getRemoteStream().getAudioTracks().forEach(track => {\n        track.enabled = false;\n      });\n      let event : C3event = {type: EventType.LocalAudioLevel, value: {action:\"mute\"}};\n      this.eventService.Emitter.next(event);\n    }catch(error){\n      console.error(\"Error muting audio: %s\", error);\n      let event : C3event = {type: EventType.LocalAudioLevelError, value: {at: \"mute\", reason:error}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  unmute(): void{\n    try{\n      this.webRtcPeer.getRemoteStream().getAudioTracks().forEach(track => {\n        track.enabled = true;\n      });\n      let event : C3event = {type: EventType.LocalAudioLevel, value: {action:\"unmute\"}};\n      this.eventService.Emitter.next(event);\n    }catch(error){\n      console.error(\"Error unmuting audio: %s\", error);\n      let event : C3event = {type: EventType.LocalAudioLevelError, value: {at: \"unmute\", reason:error}};\n      this.eventService.Emitter.next(event);\n    }\n  }\n\n  /**\n   * Processes the SDP answer\n   * @param sdpAnswer SDP answer as string\n   * @param callback callback\n   */\n  processAnswer(sdpAnswer: string, callback: (error: string) => void) :void{\n    console.log(\"RTC service: Processing SDP answer: %s\", sdpAnswer);\n    this.webRtcPeer.processAnswer(sdpAnswer, callback);\n  }\n\n  /**\n   * Adds ICE candidate\n   * @param candidate candidate\n   * @param callback callback\n   */\n  addIceCandidate(candidate: RTCIceCandidate, callback: (error: string) => void): void{\n    console.log(\"RTC service: Adding Ice Candidate: %s\", JSON.stringify(candidate));\n    this.webRtcPeer.addIceCandidate(candidate, callback);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { C3event } from '../models/c3event';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventService {\n\n  private emitter: BehaviorSubject<C3event>;\n  constructor() {\n    this.emitter = new BehaviorSubject<C3event>(null);\n  }\n\n  get Emitter(): BehaviorSubject<C3event>{\n    return this.emitter;\n  }\n}\n","import { Component, Input, OnInit, OnDestroy, ViewChild, ElementRef} from '@angular/core';\n\nimport { BehaviorSubject, timer, Subscription} from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MathService } from '../../services/math.service';\nimport { KurentoService } from '../../services/kurento.service';\nimport { EventService } from '../../services/event.service';\nimport { C3event } from '../../models/c3event';\nimport { EventType } from '../../models/event-type.enum';\n\n@Component({\n  selector: 'c3-player',\n  templateUrl: './c3player.component.html',\n  styleUrls: ['./c3player.component.css']\n})\nexport class C3playerComponent implements OnInit, OnDestroy {\n\n  private ws: WebSocket;\n\n  //Kurento service\n  private kurentoService: KurentoService;\n\n  //timer for play time\n  private _timer: Subscription;\n  private offset: number; //max difference between remote and local play\n\n  //handle if component is playing\n  playing: BehaviorSubject<boolean>;\n  private wsConnected: BehaviorSubject<boolean>;\n\n  //Play handling\n  private playedTime: number; //milliseconds\n  @ViewChild('tooltipDisplay') tooltipDisplay: ElementRef;\n  private wantedTime: number = 0; //tooltip\n\n  //Own component\n  @ViewChild('c3player') player: ElementRef; \n\n  @ViewChild('videoelement') video: ElementRef;\n\n  @Input()\n  imageSource: string; \n\n  @Input()\n  audioSource: string;\n\n  @Input()\n  wsUrl: string;\n\n  @Input()\n  totalDuration: number;\n\n  spinnerDisplay: string;\n  muted: BehaviorSubject<boolean>;\n\n  private firstTime: BehaviorSubject<boolean>;\n\n  constructor(private mathService: MathService, private eventService: EventService){\n    eventService.Emitter.subscribe((event: C3event) => {\n      if(event){\n        switch(event.type){\n          case EventType.LocalConnectionError: {\n            this.spinnerDisplay = \"none\";\n            this.playing.next(false);\n            this.displayErrorMessage(\"\");\n            break; \n          }\n          case EventType.RemotePlayStarted: {\n            this.spinnerDisplay = \"none\";\n            this.playing.next(true);\n            break;\n          }\n          case EventType.RemotePlayPaused: {\n            this.playing.next(false);\n            break;\n          }\n          case EventType.RemotePlayStopped: {\n            this.playedTime = 0;\n            this.firstTime.next(true);\n            this.playing.next(false);\n            break;\n          }\n          case EventType.RemotePlayEnded: {\n            this.playing.next(false);\n            this.playedTime = 0;\n            break;\n          }\n          case EventType.RemotePlaySeeked: {\n            this.spinnerDisplay = \"none\";\n            this.playedTime = event.value.seekTime;\n            break;\n          }\n          case EventType.RemoteSeekFailed: {\n            this.spinnerDisplay = \"none\";\n            this.playing.next(false);\n            this.displayErrorMessage(\"\");\n            break; \n          }\n          case EventType.RemotePlayResumed: {\n            this.spinnerDisplay = \"none\";\n            this.playing.next(true);\n            break;\n          }\n          case EventType.LocalAudioLevel: {\n            if(event.value && event.value.action){\n              switch(event.value.action){\n                case \"mute\":{\n                  this.muted.next(true);\n                  break;\n                }\n                case \"unmute\":{\n                  this.muted.next(false);\n                  break;\n                }\n                default:{\n                  console.error(\"Received unknown Local Audio Level event: %s\", event.value.action);\n                }\n              }\n            }else{\n              console.error(\"Received incorrect Local Audio Level event: %s\", JSON.stringify(event));\n            }\n            break;\n          }\n          case EventType.LocalAudioLevelError:{\n            this.displayErrorMessage(\"\");\n            break;\n          }\n          case EventType.RemotePlayFailed: {\n            this.spinnerDisplay = \"none\";\n            this.playing.next(false);\n            break;\n          }\n          case EventType.RemoteConnectionReset: {\n            this.spinnerDisplay = \"none\";\n            this.firstTime.next(true);\n            this.playing.next(false);\n            this.playedTime = 0;\n          }\n          default: {\n            console.error(\"Unrecognized event type '%s'\", event.type);\n          }\n        }\n      } \n    });\n  }\n\n  ngOnInit() {\n    //Initializing global variables\n    this.firstTime = new BehaviorSubject<boolean>(true);\n    this.wsConnected = new BehaviorSubject<boolean>(false);\n    this.muted = new BehaviorSubject<boolean>(false);\n    this.playedTime = 0;\n    this.offset = Math.round(this.totalDuration / 100);\n    if(this.offset < 1000){\n      this.offset = 1000;\n    }\n    if(this.offset > 4000){\n      this.offset = 4000;\n    }\n    this.playing = new BehaviorSubject<boolean>(false);\n    this.tooltipDisplay.nativeElement.style.display = \"none\";\n    this.spinnerDisplay = \"none\";\n\n    //Play timer\n    this._timer = timer(0,100).pipe(filter(() => this.playing.value === true)).subscribe(t => {\n      this.playedTime += 100;\n      if(this.playedTime >= (this.totalDuration + this.offset)){\n        this.stop();\n      }\n    });\n    \n    //Connection\n    this.ws = new WebSocket(this.wsUrl);\n    this.kurentoService = new KurentoService(this.ws, this.audioSource, this.video, this.eventService);\n\n    //WebSocket event handling\n    const context = this;\n    this.ws.onopen = (e: Event) => {\n      console.log(\"C3player service: Connection established with Kurento\");\n      context.wsConnected.next(true);\n    }\n    this.ws.onclose = (e: CloseEvent) => {\n      console.log(\"C3Player service: Connection closed\");\n      context.wsConnected.next(false);\n      context.stop();\n    }\n    this.ws.onerror = (e: Event) => {\n      console.error(\"An error has occured: %s\", e);\n      context.stop();\n    }\n    this.ws.onmessage = (e: MessageEvent) => {\n      console.log(\"Message received: \"+e.data);\n      let message = JSON.parse(e.data);\n      switch(message.id){\n        case \"playStarted\":{\n          let event : C3event = {type: EventType.RemotePlayStarted, value: {}};\n          this.eventService.Emitter.next(event);\n          break;\n        }\n        case \"startResponse\": {\n          console.log(\"Received start response\");\n          context.kurentoService.processAnswer(message.sdpAnswer, (error: string) => {\n            if(error){\n              console.error(\"Error processing response: %s\", error);\n            }else{\n              console.log(\"C3Player service: SDP response processed\");\n            }\n          });\n          break;\n        }\n        case \"error\": {\n          console.error(\"Error in websocket: %s\", message.message);\n          break;\n        }\n        case \"playEnd\": {\n          console.log(\"C3Player service: Play ended\");\n          context.firstTime.next(true);\n          context.playing.next(false);\n          context.playedTime = 0;\n          break;\n        }\n        case \"videoInfo\": {\n          context.totalDuration = message.videoDuration;\n          break;\n        }\n        case \"iceCandidate\": {\n          context.kurentoService.addIceCandidate(message.candidate, (error: string) =>{\n            if(error){\n              console.error(\"Error adding candidate: %s\", error);\n            }else{\n              console.log(\"Added candidate %s\", JSON.stringify(message.candidate));\n            }\n          });\n          break;\n        }\n        case \"seek\": {\n          console.log(\"C3Player service: Seek Done -> %s\", message.message);\n          if(message.message !== \"ok\"){\n            this.displayErrorMessage(\"An error has occured\");\n          }\n          break;\n        }\n        case \"position\": {\n          context.playedTime = message.position;\n          break;\n        }\n        default: {\n          console.log(\"C3Player service: Unrecognized message received -> %s\", message.id);\n        }\n      }\n    }\n  }\n\n  ngOnDestroy(){\n    this._timer.unsubscribe();\n    this.kurentoService.resetConnection();\n    this.ws.close();\n  }\n\n  getPlayedHours(): String{\n    return this.mathService.pad(Math.floor(this.playedTime / 3600000));\n  }\n\n  getPlayedMinutes(): String{\n    return this.mathService.pad(Math.floor(((this.playedTime / 1000) % 3600) / 60));\n  }\n\n  getPlayedSeconds(): String{\n    return this.mathService.padm((this.playedTime/1000) % 60);\n  }\n\n  getTotalHours(): String{\n    return this.mathService.pad(Math.floor(this.totalDuration / 3600000));\n  }\n\n  getTotalMinutes(): String{\n    return this.mathService.pad(Math.floor(((this.totalDuration / 1000) % 3600) / 60));\n  }\n\n  getTotalSeconds(): String{\n    return this.mathService.pad(Math.round(this.totalDuration/1000) % 60);\n  }\n\n  getWantedHours(): String{\n    return this.mathService.pad(Math.floor(this.wantedTime / 3600000));\n  }\n\n  getWantedMinutes(): String{\n    return this.mathService.pad(Math.floor(((this.wantedTime / 1000) % 3600) / 60));\n  }\n\n  getWantedSeconds(): String{\n    return this.mathService.pad(Math.floor((this.wantedTime/1000) % 60));\n  }\n\n  getSeekPosition(){\n    return Math.floor((this.playedTime/this.totalDuration)*this.player.nativeElement.offsetWidth);\n  }\n\n  /**\n   * TODO implementar metodos\n   */\n  play(): void{\n    if(this.playing.value === true){\n       //Pause the video\n      this.kurentoService.pause();\n    }else{\n      if(this.firstTime.value === true){\n        //Play\n        this.spinnerDisplay = \"block\";\n        this.firstTime.next(false);\n        this.kurentoService.start(this.playedTime);\n      }else{\n        //Resume\n        this.spinnerDisplay = \"block\";\n        this.kurentoService.resume();\n      }\n    }\n  }\n\n  stop(): void{\n    if(this.wsConnected.value === true){\n      this.kurentoService.unmute();\n      this.kurentoService.stop();\n    }else{\n      this.playedTime = 0;\n      this.firstTime.next(true);\n      this.playing.next(false);\n    }\n  }\n\n  seekClicked(event): void{\n    \n  }\n\n  seekReleased(event: MouseEvent): void{\n    //set playedTime and seekPosition\n    this.spinnerDisplay = \"block\";\n    let clicked: number = Math.floor(this.totalDuration*(event.offsetX/this.player.nativeElement.offsetWidth));\n    this.kurentoService.doSeekAt(clicked);\n  }\n\n  seekDragged(): void{\n    console.log(\"Seek dragged\");\n  }\n\n  onDragStart(event){\n    console.log(\"Drag start\");\n  }\n\n  onDragEnd(event){\n    console.log(\"Drag end\");\n  }\n\n  onMouseOverSeek(event: MouseEvent){\n    this.tooltipDisplay.nativeElement.style.display = \"inline-block\";\n    this.tooltipDisplay.nativeElement.style.transform = \"translate(\"+event.offsetX+\"px,\"+(15+event.offsetY)+\"px)\";\n  }\n\n  onMouseExitSeek(event: MouseEvent){\n    this.tooltipDisplay.nativeElement.style.display = \"none\";\n  }\n\n  onMouseMoveSeek(event: MouseEvent){\n    this.wantedTime = Math.floor(this.totalDuration*(event.offsetX/this.player.nativeElement.offsetWidth));\n    if(this.player.nativeElement.offsetWidth - event.offsetX <= 55){\n      this.tooltipDisplay.nativeElement.style.transform = \"translate(\"+(event.offsetX - 55)+\"px,\"+(15+event.offsetY)+\"px)\";\n    }else{\n      this.tooltipDisplay.nativeElement.style.transform = \"translate(\"+event.offsetX+\"px,\"+(15+event.offsetY)+\"px)\";\n    }\n  }\n\n  displayErrorMessage(error: string) : void{\n\n  }\n\n  switchSound(): void{\n    if(this.muted.value === true){\n      this.kurentoService.unmute();\n    }else{\n      this.kurentoService.mute();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { C3playerComponent } from './c3player.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatSliderModule } from '@angular/material/slider';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserAnimationsModule,\n    MatSliderModule\n  ],\n  declarations: [C3playerComponent],\n  exports: [\n    C3playerComponent,\n    MatSliderModule,\n    BrowserAnimationsModule\n  ]\n})\nexport class C3playerModule { }\n"],"names":["Injectable","WebRtcPeer","BehaviorSubject","timer","filter","Component","ViewChild","Input","NgModule","CommonModule","BrowserAnimationsModule","MatSliderModule"],"mappings":"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"}
